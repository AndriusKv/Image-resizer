!function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){"use strict";function i(e){document.getElementById("js-quality-value").textContent=e}function r(e){l=e!==g,h=e,i(e)}function a(){l=!1,c.value=.92,i(g)}function o(){return l?h:g}function s(){return l}function u(e){var t=Number.parseFloat(e.target.value);r(t),(0,d.changeCanvasQuality)(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.get=n.reset=n.useImageWithQuality=void 0;var d=e("./crop.js"),c=document.getElementById("js-crop-quality"),g=.92,l=!1,h=g;c.addEventListener("input",u,!1),n.useImageWithQuality=s,n.reset=a,n.get=o},{"./crop.js":2}],2:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){e.disabled=t}function a(e){var t=document.getElementById("js-crop-ok"),n=document.getElementById("js-crop-preview-btn");r(t,e),r(n,e)}function o(e){var t=document.getElementById("js-crop-skip"),n=e>1;r(t,!n)}function s(e){var t=document.getElementById("js-crop-remaining"),n=ge.images.length-1;return"remove"===e?void(t.textContent=""):1===n?void(t.textContent=n+" image remaining"):void(t.textContent=n+" images remaining")}function u(e){document.getElementById("js-crop-image-name").textContent=e}function d(e,t,n){return e?Me[n]>0?Me[t]:Me[t]+Me[n]:0}function c(e,t){var n=Ne.getRatio("width"),i=Ne.getRatio("height");e=d(e,"x","width"),t=d(t,"y","height"),ye.value=Math.round(e*n),Ee.value=Math.round(t*i)}function g(e,t){e=Math.round(e*Ne.getRatio("width")),t=Math.round(t*Ne.getRatio("height")),Ie.value=0>e?-e:e,je.value=0>t?-t:t}function l(){return he.useImageWithQuality()?(fe.drawImage(Le.withQuality,0,0,ve.width,ve.height),!1):void fe.drawImage(Le.original,0,0,ve.width,ve.height)}function h(){fe.fillStyle="rgba(0, 0, 0, .4)",fe.fillRect(0,0,ve.width,ve.height)}function m(e){fe.strokeStyle="#006494",fe.strokeRect(e.x,e.y,e.width,e.height)}function v(e){var t=e.width&&e.height,n=e.x,i=e.y,r=void 0;t&&(r=fe.getImageData(n,i,e.width,e.height),e.width<0&&(n+=e.width),e.height<0&&(i+=e.height)),(n||i||t)&&h(),r&&fe.putImageData(r,n,i),m(e)}function f(){l(),Pe?S(Me,Pe):v(Me)}function p(e){Le.original.addEventListener("load",function(){var e=Le.original.width,t=Le.original.height,i=e/t,r=window.innerWidth-212,a=window.innerHeight-40,o=e,s=t;(0,de.toggleElement)("add",me),o>r&&(o=r,s=o/i),s>a&&(s=a,o=s*i),ve.width=o,ve.height=s,fe.drawImage(Le.original,0,0,ve.width,ve.height),n.changeCanvasQuality=Be=te(),Ne.setRatio("width",e/ve.width),Ne.setRatio("height",t/ve.height),ve.classList.add("show")}),Le.original.src=e}function w(){return{x:Number.parseInt(ye.value,10),y:Number.parseInt(Ee.value,10),width:Number.parseInt(Ie.value,10),height:Number.parseInt(je.value,10)}}function y(e,t,n){return n.drawImage(e,0,0,e.width,e.height),n.getImageData(t.x,t.y,t.width,t.height)}function E(e,t,n){return n.save(),n.translate(t.x+t.width/2,t.y+t.height/2),n.rotate(-Pe),n.drawImage(e,-(t.x+t.width/2),-(t.y+t.height/2)),n.restore(),n.getImageData(t.x,t.y,t.width,t.height)}function I(e){var t=arguments.length<=1||void 0===arguments[1]?"image/jpeg":arguments[1],n=document.createElement("canvas"),i=n.getContext("2d"),r=w();n.width=e.width,n.height=e.height;var a=Pe?E(e,r,i):y(e,r,i);return n.width=a.width,n.height=a.height,i.putImageData(a,0,0),{uri:n.toDataURL(t,he.get()),width:n.width,height:n.height}}function j(e){var t=new Image;t.addEventListener("load",function(){var n=I(t,e.type);ge.worker.postMessage({action:"add",image:{name:e.name.setByUser,type:e.type.slice(6),uri:n.uri}}),ge.images.length?(he.reset(),K()):(Z(),ge.generateZip(),ve.removeEventListener("mousedown",M,!1))}),t.src=e.uri}function b(e){var t=ve.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}function x(e,t){var n=4,i=Me.x,r=Me.y,a=i+Me.width,o=r+Me.height,s=e>=i-n&&a+n>=e||i+n>=e&&e>=a-n,u=t>=r-n&&o+n>=t||r+n>=t&&t>=o-n,d=t>=r-n&&r+n>=t,c=e>=a-n&&a+n>=e,g=t>=o-n&&o+n>=t,l=e>=i-n&&i+n>=e;if(d){if(l)return"nw";if(c)return"ne";if(s)return"n"}if(g){if(c)return"se";if(l)return"sw";if(s)return"s"}if(u){if(c)return"e";if(l)return"w"}return""}function k(e,t,n){var i=e.x,r=e.y,a=i+e.width,o=r+e.height,s=t>=i&&a>=t||i>=t&&t>=a,u=n>=r&&o>=n||r>=n&&n>=o;return s&&u}function L(e){var t=b(e),n=t.x,i=t.y,r=Me,a={},o="";switch(Ce){case"nw":a.x=n,a.y=i,a.width=r.x-n+r.width,a.height=r.y-i+r.height,o=O("nw","ne");break;case"ne":a.y=i,a.height=r.y-i+r.height,a.width=n-r.x,o=O("ne","nw");break;case"se":a.width=n-r.x,a.height=i-r.y,o=O("se","sw");break;case"sw":a.x=n,a.width=r.x-n+r.width,a.height=i-r.y,o=O("sw","se");break;case"n":a.y=i,a.height=r.y-i+r.height;break;case"e":a.width=n-r.x;break;case"s":a.height=i-r.y;break;case"w":a.x=n,a.width=r.x-n+r.width}o&&(ve.style.cursor=o+"-resize"),Object.assign(Me,a),requestAnimationFrame(f),c(Me.x,Me.y),g(Me.width,Me.height)}function B(e,t){var n=e-Me.x,i=t-Me.y;return function(e){if(e.ctrlKey){var t=b(e),r=t.x,a=t.y;Me.x=r-n,Me.y=a-i,c(Me.x,Me.y),requestAnimationFrame(f)}}}function M(e){if(1===e.which){var t=b(e),n=t.x,i=t.y,r=Me,a=r.width&&r.height;if(Ce=x(n,i),l(),ve.removeEventListener("mousemove",T,!1),document.removeEventListener("keydown",P,!1),e.ctrlKey){var o=Pe?R:k;if(o(r,n,i))return Pe?S(r,Pe):v(r),Ae=B(n,i),me.addEventListener("mousemove",Ae,!1),void me.addEventListener("mouseup",Q,!1);S(r,Pe),me.addEventListener("mousemove",z,!1),me.addEventListener("mouseup",V,!1)}else Ce&&a&&!Pe?(v(r),me.addEventListener("mousemove",L,!1),me.addEventListener("mouseup",F,!1)):(a&&(Pe?S(r,Pe):v(r)),Pe=0,Me.x=n,Me.y=i,Me.width=0,Me.height=0,me.addEventListener("mousemove",C,!1),me.addEventListener("mouseup",U,!1))}}function C(e){var t=b(e),n=t.x,i=t.y;Me.width=n-Me.x,Me.height=i-Me.y,requestAnimationFrame(f),c(n,i),g(Me.width,Me.height)}function D(){ve.style.cursor="default",document.removeEventListener("keyup",D,!1)}function P(e){var t=Pe?R:k,n=Me,i=ke.x,r=ke.y;e.ctrlKey&&t(n,i,r)&&(ve.style.cursor="move"),document.addEventListener("keyup",D,!1)}function A(){var e=Ne.getRatio("width"),t=Ne.getRatio("height");Me.x=ye.value/e,Me.y=Ee.value/t,Me.width=Ie.value/e,Me.height=je.value/t}function N(e,t){var n=Me.width&&Me.height;me.removeEventListener("mousemove",e,!1),me.removeEventListener("mouseup",t,!1),n?(ve.addEventListener("mousemove",T,!1),document.addEventListener("keydown",P,!1)):(K(),l(),ve.style.cursor="default"),a(!n)}function O(e,t){var n=Me.x,i=Me.y,r=n+Me.width,a=i+Me.height;if(r>n){if(i>a)return t}else if(a>i)return t;return e}function W(e,t){var n=x(e,t);switch(n){case"nw":n=O("nw","ne");break;case"ne":n=O("ne","nw");break;case"sw":n=O("sw","se");break;case"se":n=O("se","sw")}ve.style.cursor=n?n+"-resize":"default"}function R(e,t,n){var i=t-(e.x+e.width/2),r=n-(e.y+e.height/2),a=i*Math.cos(-Pe)-r*Math.sin(-Pe),o=i*Math.sin(-Pe)+r*Math.cos(-Pe),s={x:-e.width/2,y:-e.height/2,width:e.width,height:e.height};return k(s,a,o)}function T(e){var t=b(e),n=t.x,i=t.y,r=Me;if(ke.x=n,ke.y=i,e.ctrlKey){var a=Pe?R:k;return a(r,n,i)?void(ve.style.cursor="move"):void(ve.style.cursor="default")}Pe||W(n,i)}function _(e){var t=b(e),n=t.x,i=t.y,r=Me,a=r.x+r.width/2,o=r.y+r.height/2;return Math.atan2(o-i,a-n)}function q(e){var t=Math.round(180*e/Math.PI);return 0>t&&(t+=360),t}function S(e,t){var n=e.width>0?e.width:-e.width,i=e.height>0?e.height:-e.height;fe.save(),fe.translate(e.x+e.width/2,e.y+e.height/2),fe.rotate(t),fe.strokeRect(-e.width/2,-e.height/2,e.width,e.height),fe.beginPath(),fe.rect(-n/2,-i/2,n,i),fe.restore(),fe.rect(ve.width,0,-ve.width,ve.height),fe.fillStyle="rgba(0, 0, 0, .4)",fe.fill()}function z(e){var t=0;Pe=_(e),t=q(Pe),be.value=t,(0===t||360===t)&&(Pe=0),requestAnimationFrame(f)}function F(){N(L,F)}function Q(){N(Ae,Q)}function U(){N(C,U)}function V(){N(z,V)}function H(){var e=ge.images[0];ge.initWorker(),u(e.name.original),p(e.uri),a(!0),o(ge.images.length),ve.addEventListener("mousedown",M,!1),ge.images.length>1&&s()}function $(e){ve.classList.remove("show"),o(ge.images.length),a(!0),ge.images.length&&(s(),u(e.name.original),setTimeout(function(){p(e.uri)},200))}function K(){Me={},c(0,0),g(0,0),be.value=0}function Z(){he.reset(),K(),s("remove"),(0,de.toggleElement)("remove",me)}function J(){var e=ge.images.splice(0,1)[0];j(e),$(ge.images[0])}function G(){ge.images.splice(0,1),he.reset(),K(),$(ge.images[0])}function X(){return De?(De=!1,(0,de.toggleElement)("remove",we),void setTimeout(function(){we.removeChild(we.children[0])},600)):(Z(),void ge.worker.postMessage({action:"generate"}))}function Y(){var e=I(Le.original),t=new Image;De=!0,t.classList.add("crop-preview-image"),t.addEventListener("load",function(){var n=e.width,i=e.height,r=window.innerWidth-8,a=window.innerHeight-40,o=n/i;n>r&&(n=r,i=Math.floor(n/o)),i>a&&(i=a,n=Math.floor(i*o)),t.style.width=n+"px",t.style.height=i+"px",we.appendChild(t),(0,de.toggleElement)("add",we)}),t.src=e.uri}function ee(){me.classList.remove("preload"),window.removeEventListener("load",ee,!1)}function te(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=Le.original,i=!1;return e.width=n.width,e.height=n.height,t.drawImage(n,0,0,e.width,e.height),Le.withQuality.addEventListener("load",function(){requestAnimationFrame(function(){f(),i=!1})}),function(t){i||(i=!0,Le.withQuality.src=e.toDataURL("image/jpeg",t))}}function ne(e,t){var n=e.selectionStart,i=e.selectionEnd,r=e.value;return r=n===i?r.slice(0,n)+t+r.slice(n,r.length):r.slice(0,n)+t+r.slice(i,r.length),Number.parseInt(r,10)}function ie(){var e=Me.width&&Me.height;e&&requestAnimationFrame(f),a(!e)}function re(e){if(e.key)return e.key;var t=e.keyCode||e.which;return t?8===t||13===t?t:String.fromCharCode(t):void 0}function ae(e){return e>180&&(e-=360),e*Math.PI/180}function oe(e){var t=e.target,n=re(e),i=t.getAttribute("data-input"),r="Backspace"===n||8===n,a="Enter"===n||13===n;if(i&&/\d|-/.test(n)){var o="-"===n||45===n;if(o&&"x"!==i&&"y"!==i)return void e.preventDefault();var s=Ne.getRatio(i),u=ne(t,n);return"angle"===i?Pe=ae(u):Me[i]=u/s||0,void ie()}r||a||e.preventDefault()}function se(e){var t=re(e),n="Backspace"===t||8===t,i="Enter"===t||13===t;if(n||i){var r=e.target,a=r.getAttribute("data-input");"angle"===a?Pe=ae(r.value):A(),ie()}}function ue(e){var t=e.target.getAttribute("data-btn");switch(t){case"crop":J();break;case"preview":Y();break;case"skip":G()}}Object.defineProperty(n,"__esModule",{value:!0}),n.changeCanvasQuality=n.init=void 0;var de=e("./main.js"),ce=e("./process.js"),ge=i(ce),le=e("./crop-quality.js"),he=i(le),me=document.getElementById("js-crop"),ve=document.getElementById("js-canvas"),fe=ve.getContext("2d"),pe=document.getElementById("js-crop-close"),we=document.getElementById("js-crop-preview"),ye=document.getElementById("js-crop-x"),Ee=document.getElementById("js-crop-y"),Ie=document.getElementById("js-crop-width"),je=document.getElementById("js-crop-height"),be=document.getElementById("js-crop-angle"),xe=document.getElementById("js-crop-data"),ke={},Le={original:new Image,withQuality:new Image},Be=null,Me={},Ce="",De=!1,Pe=0,Ae=void 0,Ne=function(){function e(e){return"x"===e?e="width":"y"===e&&(e="height"),n[e]}function t(e,t){n[e]=t}var n={};return{getRatio:e,setRatio:t}}();pe.addEventListener("click",X,!1),xe.addEventListener("keypress",oe,!1),xe.addEventListener("keyup",se,!1),document.getElementById("js-crop-data-btns").addEventListener("click",ue,!1),window.addEventListener("load",ee,!1),n.init=H,n.changeCanvasQuality=Be},{"./crop-quality.js":1,"./main.js":4,"./process.js":5}],3:[function(e,t,n){"use strict";function i(e){y&&clearTimeout(y),y=setTimeout(function(){r()},e)}function r(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];requestAnimationFrame(function(){document.getElementById("js-msg").innerHTML=e}),e&&i(2e3)}function a(e){requestAnimationFrame(function(){document.getElementById("js-progress-label").textContent=e})}function o(e){h.value+=e}function s(){h.value=0}function u(){return 100===Math.round(h.value)}function d(){a(""),(0,l.toggleMasks)("remove")}function c(){(0,l.toggleMasks)("add"),n.isWorking=w=!0,(0,l.toggleElement)("add",h),(0,l.toggleElement)("remove",m),(0,l.toggleElement)("add",f)}function g(){n.isWorking=w=!1,(0,l.toggleElement)("remove",h),(0,l.toggleElement)("remove",f),s(),d()}Object.defineProperty(n,"__esModule",{value:!0}),n.removeMasksAndLabel=n.setProgressLabel=n.updateProgress=n.resetProgress=n.resetDropbox=n.showMessage=n.downloadBtn=n.progressBar=n.processBtn=n.isCanceled=n.beforeWork=n.isWorking=n.cancelBtn=n.isDone=void 0;var l=e("./main.js"),h=document.getElementById("js-progress"),m=document.getElementById("js-process"),v=document.getElementById("js-download"),f=document.getElementById("js-cancel"),p=!1,w=!1,y=void 0;n.isDone=u,n.cancelBtn=f,n.isWorking=w,n.beforeWork=c,n.isCanceled=p,n.processBtn=m,n.progressBar=h,n.downloadBtn=v,n.showMessage=r,n.resetDropbox=g,n.resetProgress=s,n.updateProgress=o,n.setProgressLabel=a,n.removeMasksAndLabel=d},{"./main.js":4}],4:[function(e,t,n){"use strict";function i(e,t,n){t.classList[e](n)}function r(e,t){i(e,t,"show")}function a(e){i(e,document.getElementById("js-dropbox-label"),"mask"),i(e,document.getElementById("js-selections-mask"),"mask")}Object.defineProperty(n,"__esModule",{value:!0}),n.toggleElement=n.changeClass=n.toggleMasks=void 0,e("./dropbox.js"),e("./selections.js"),e("./read.js"),e("./process.js"),n.toggleMasks=a,n.changeClass=i,n.toggleElement=r},{"./dropbox.js":3,"./process.js":5,"./read.js":6,"./selections.js":7}],5:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e,t){I.showMessage(e),(0,x.toggleElement)("add",t)}function a(){L||(n.worker=L=new Worker("js/workers/worker1.js"),L.onmessage=function(e){n.zip=B=e.data,I.isWorking=!1,I.removeMasksAndLabel(),r("Images are ready for downloading.",I.downloadBtn),L.postMessage({action:"remove"})},L.onerror=function(e){console.log(e)})}function o(e){try{saveAs(e,"images.zip")}catch(t){var n=document.createElement("script");n.setAttribute("src","js/libs/FileSaver.min.js"),document.getElementsByTagName("body")[0].appendChild(n),n.onload=function(){saveAs(e,"images.zip")}}}function s(e){return"width"===e?"height":"width"}function u(e,t,n){var i=s(e),r="same"===t[e]?t[i]:t[e],a=n[e];return r.includes("%")?a*(Number.parseInt(r,10)/100):"original"===r||r===e?Number.parseInt(a,10):r===i?Number.parseInt(n[i],10):Number.parseInt(r,10)}function d(e,t){var n=t.width/t.height,i=0,r=0;return e.width&&(i=u("width",e,t),e.height?"same"===e.width&&(r=i):r=i/n),!r&&e.height&&(r=u("height",e,t),e.width?i||"same"!==e.height||(i=r):i=r*n),{width:i,height:r}}function c(e,t,n){var i=n.width,r=n.height,a=document.createElement("canvas"),o=document.getElementById("js-image-quality").value/100;return a.width=i,a.height=r,a.getContext("2d").drawImage(e,0,0,i,r),a.toDataURL(t,o)}function g(){I.setProgressLabel("Generating Archive"),L.postMessage({action:"generate"})}function l(){setTimeout(function(){I.isCanceled||((0,x.toggleElement)("remove",I.progressBar),(0,x.toggleElement)("remove",I.cancelBtn),I.resetProgress(),g())},1e3)}function h(e,t){return function n(i,r){var a=i.splice(0,1)[0];if(I.updateProgress(r),L.postMessage({action:"add",image:{name:t.name.setByUser,uri:c(e,t.type,a),type:t.type.slice(6)}}),I.isDone()&&l(),i.length){var o=t.size*a.width*a.height/2e3+100;setTimeout(function(){I.isCanceled||n(i,r)},o)}}}function m(e,t){var n=100/(e.length*t.length);return function i(){var r=new Image,a=e.splice(0,1)[0];if(r.onload=function(){if(!I.isCanceled){var e=h(r,a),i={width:r.width,height:r.height},o=t.map(function(e){return d(e,i)});I.setProgressLabel("Processing: "+a.name.original),e(o,n)}},r.src=a.uri,e.length){var o=400*a.size+100;setTimeout(function(){I.isCanceled||i()},o)}}}function v(e){return e.length?(e=e.filter(function(e){return b.verifyValue(e.width,e.height)||b.verifyValue(e.height,e.width)}),e.length||r("No valid values",I.processBtn)):r("No dimensions specified",I.processBtn),e}function f(){for(var e=b.widthInputCointaner.children,t=b.heightInputContainer.children,n=[],i=0,r=e.length;r>i;i++){var a=e[i].value,o=t[i].value;(a||o)&&n.push({width:a,height:o})}return v(n)}function p(){var e=f();if(!e.length)return void I.resetDropbox();a(),I.beforeWork();var t=m(k,e);t(),b.saveToLocalStorage()}function w(){o(B)}function y(){I.isCanceled=!0,n.zip=B=null,k.length=0,I.resetDropbox(),I.showMessage("Work canceled")}Object.defineProperty(n,"__esModule",{value:!0}),n.generateZip=n.initWorker=n.processImages=n.worker=n.images=n.zip=void 0;var E=e("./dropbox.js"),I=i(E),j=e("./selections.js"),b=i(j),x=e("./main.js"),k=[],L=void 0,B=void 0;I.processBtn.addEventListener("click",p,!1),I.downloadBtn.addEventListener("click",w,!1),I.cancelBtn.addEventListener("click",y,!1),n.zip=B,n.images=k,n.worker=L,n.processImages=p,n.initWorker=a,n.generateZip=g},{"./dropbox.js":3,"./main.js":4,"./selections.js":7}],6:[function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(){setTimeout(function(){return w.isCanceled?void 0:E.images.length?void(document.getElementById("js-crop-checkbox").checked?(w.resetDropbox(),j.init()):(w.resetProgress(),E.processImages())):(w.resetDropbox(),void w.showMessage("No images to process."))},1200)}function a(e){return e.includes("image")}function o(e){return e.slice(0,e.lastIndexOf("."))}function s(e){var t=document.getElementById("js-image-name").value||o(e),n=document.getElementById("js-image-name-seperator").value||"-";return t+n}function u(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(t){E.images.push({name:{original:e.name,setByUser:s(e.name)},type:e.type,size:e.size/1e6,uri:t.target.result})}}function d(e,t){var n=e[0];if(w.setProgressLabel("Reading: "+n.name),e=Array.prototype.slice.call(e,1),a(n.type)&&u(n),w.updateProgress(t),e.length||r(),e.length){var i=n.size/1e6*100+100;setTimeout(function(){w.isCanceled||d(e,t)},i)}}function c(e){var t=100/e.length;E.worker&&E.worker.postMessage({action:"remove"}),E.images.length&&(E.images.length=0),E.zip=null,w.isCanceled=!1,(0,f.toggleElement)("remove",w.downloadBtn),w.beforeWork(),d(e,t)}function g(e){var t=e.target.files;e.preventDefault(),t.length&&c(t)}function l(e){return x=0,(0,f.changeClass)("remove",e.target,"over"),e.stopPropagation(),e.preventDefault(),w.isWorking?void(e.dataTransfer.dropEffect="none"):(e.dataTransfer.dropEffect="copy",void c(e.dataTransfer.files))}function h(e){e.stopPropagation(),e.preventDefault()}function m(e){e.preventDefault(),w.isWorking||(x+=1,(0,f.changeClass)("add",e.target,"over"))}function v(e){w.isWorking||(x-=1,x||(0,f.changeClass)("remove",e.target,"over"))}var f=e("./main.js"),p=e("./dropbox.js"),w=i(p),y=e("./process.js"),E=i(y),I=e("./crop.js"),j=i(I),b=document.getElementById("js-dropbox"),x=0;document.getElementById("js-image-select").addEventListener("change",g,!1),b.addEventListener("dragover",h,!1),b.addEventListener("dragenter",m,!1),b.addEventListener("dragleave",v,!1),b.addEventListener("drop",l,!1),b.addEventListener("click",function(e){w.isWorking&&e.preventDefault()})},{"./crop.js":2,"./dropbox.js":3,"./main.js":4,"./process.js":5}],7:[function(e,t,n){"use strict";function i(){var e={numberOfInputs:w.value,widthInputValues:o(f.children),heightInputValues:o(p.children),imageName:y.value||"",imageNameSeperator:E.value||"",imageQuality:I.value};localStorage.setItem("selections",JSON.stringify(e))}function r(e,t){var n=/^\d+(px|%)?$|^same$|^original$|^width$|^height$/;return n.test(e)&&!("same"===e&&(!t||"same"===t))}function a(e,t){Array.prototype.forEach.call(e,function(e,n){e.value=t[n]})}function o(e){return Array.prototype.map.call(e,function(e){return e.value})}function s(){var e=document.createElement("input");return e.setAttribute("type","text"),e.classList.add("image-input"),e}function u(e){for(var t=document.createDocumentFragment(),n=0;e>n;n++)t.appendChild(s());return t}function d(e,t){var n=e.children.length;if(t>n){var i=t-n;e.appendChild(u(i))}else for(var r=n-t;r--;)n=e.children.length,e.removeChild(e.children[n-1])}function c(e){var t=Number.parseInt(e.target.value,10);d(f,t),d(p,t)}function g(e){var t=e.target;t.innerHTML="Settings"===t.innerHTML?"Selections":"Settings",(0,m.toggleElement)("toggle",document.getElementById("js-selections")),(0,m.toggleElement)("toggle",document.getElementById("js-settings"))}function l(e){e.target.classList.contains("image-input")&&document.getElementById("js-crop-checkbox").checked&&((0,v.showMessage)("Disable image cropping to change input values"),e.preventDefault())}function h(e){(0,v.showMessage)("Image quality set to: "+e.target.value+"%")}Object.defineProperty(n,"__esModule",{value:!0}),n.verifyValue=n.saveToLocalStorage=n.heightInputContainer=n.widthInputCointaner=void 0;var m=e("./main.js"),v=e("./dropbox.js"),f=document.getElementById("js-width-input-container"),p=document.getElementById("js-height-input-container"),w=document.getElementById("js-select"),y=document.getElementById("js-image-name"),E=document.getElementById("js-image-name-seperator"),I=document.getElementById("js-image-quality");!function(){var e=localStorage.getItem("selections");e&&(e=JSON.parse(e),w.value=e.numberOfInputs,d(f,e.numberOfInputs),d(p,e.numberOfInputs),a(f.children,e.widthInputValues),a(p.children,e.heightInputValues),y.value=e.imageName,E.value=e.imageNameSeperator,I.value=e.imageQuality)}(),w.addEventListener("click",c,!1),document.getElementById("js-input-container").addEventListener("keydown",l,!1),document.getElementById("js-settings-toggle").addEventListener("click",g,!1),I.addEventListener("input",h,!1),n.widthInputCointaner=f,n.heightInputContainer=p,n.saveToLocalStorage=i,n.verifyValue=r},{"./dropbox.js":3,"./main.js":4}]},{},[4]);